(()=>{var e,t={184:(e,t)=>{var a;!function(){"use strict";var r={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)){if(a.length){var n=l.apply(null,a);n&&e.push(n)}}else if("object"===i){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var c in a)r.call(a,c)&&a[c]&&e.push(c)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(a=function(){return l}.apply(t,[]))||(e.exports=a)}()},420:(e,t,a)=>{"use strict";const r=window.React,l=JSON.parse('{"apiVersion":2,"name":"video-accessibility/block","title":"Video accessibility","description":"An video accessibility block","category":"embed","supports":{"className":false,"align":true,"__experimentalExposeControlsToChildren":true},"attributes":{"layout":{"type":"string","default":"2c","enum":["1c","2c"]},"currentPanel":{"type":"integer","default":0},"currentMedia":{"type":"integer","default":0},"displayDefault":{"type":"boolean","default":true},"displayScreenReaderText":{"type":"boolean","default":false},"primaryScreenReaderText":{"type":"string","default":"Switch to video with audio description by using the switch toggle button located after the video controls"},"secondaryScreenReaderText":{"type":"string","default":"Switch to video without audio description by using the switch toggle button located after the video controls"}},"providesContext":{"video-accessibility/currentPanel":"currentPanel","video-accessibility/currentMedia":"currentMedia"},"editorScript":"file:index.js","editorStyle":"file:index.css","style":"file:style-index.css","viewScript":"file:view-script.js"}');var i=a(184);const n=window.wp.blocks,c=window.wp.blockEditor,o=window.wp.components,s=window.wp.i18n,d=window.wp.data,u=window.wp.element,m=window.wp.primitives,p=(0,r.createElement)(m.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(m.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),y=(0,r.createElement)(m.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(m.Path,{d:"M18.7 3H5.3C4 3 3 4 3 5.3v13.4C3 20 4 21 5.3 21h13.4c1.3 0 2.3-1 2.3-2.3V5.3C21 4 20 3 18.7 3zm.8 15.7c0 .4-.4.8-.8.8H5.3c-.4 0-.8-.4-.8-.8V5.3c0-.4.4-.8.8-.8h13.4c.4 0 .8.4.8.8v13.4zM10 15l5-3-5-3v6z"})),h=window.wp.hooks,v=window.wp.compose,b=window.wp.apiFetch,w=(0,v.createHigherOrderComponent)((e=>t=>{const[a,l]=(0,u.useState)(),{attributes:i}=t,n="core/embed"===t.name&&["youtube","vimeo"].includes(t.attributes.providerNameSlug);return(0,u.useEffect)((()=>{if(n&&i.url){const e=new URLSearchParams({url:i.url,provider:i.providerNameSlug});b({path:`video-accessibility/v1/schema?${e}`}).then((e=>{l(e)})).catch((e=>console.error(e)))}}),[n,i.url]),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(e,{...t}),n&&(0,r.createElement)(c.InspectorControls,null,(0,r.createElement)(o.PanelBody,{title:"Video Schema",initialOpen:!0},a&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(o.TextControl,{label:"Name",value:a.name||"",readOnly:!0}),(0,r.createElement)(o.TextareaControl,{label:"Description",value:a.description||"",readOnly:!0}),(0,r.createElement)(o.TextControl,{label:"Duration",value:a.duration||"",readOnly:!0}),(0,r.createElement)(o.TextControl,{label:"Thumbnail",value:a.thumbnailUrl||"",readOnly:!0}),a.thumbnailUrl&&(0,r.createElement)("img",{src:a.thumbnailUrl,style:{maxWidth:"100%",width:"auto",height:"auto"}}),(0,r.createElement)(o.TextControl,{label:"Upload Date",value:a.uploadDate||"",readOnly:!0})))))}),"withEmbedSchema");(0,h.addFilter)("editor.BlockEdit","video-accessibility/embed-schema",w,1);const f=[{save:({attributes:e})=>(0,r.createElement)("div",{...c.useBlockProps.save({className:i({"video-accessibility":!0,[`video-accessibility--${e.layout}`]:e.layout,"video-accessibility--no-default":!e.displayDefault})})},(0,r.createElement)(c.InnerBlocks.Content,null))}];(0,n.registerBlockType)(l.name,{...l,icon:function(){return(0,r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"45",height:"21",viewBox:"0 0 308.25 104.28",fill:"currentColor"},(0,r.createElement)("title",null,"Audio Described"),(0,r.createElement)("g",null,(0,r.createElement)("path",{d:"m0,104.28L46.13,0h23.26l46.13,104.28h-22.46l-9.49-22.06h-51.47l-9.63,22.06H0Zm40.78-42.25h34.09l-16.98-39.04-17.11,39.04Z"}),(0,r.createElement)("path",{d:"m121.95,104.28V0h44.79c33.02,0,54.01,18.72,54.01,52.01s-21.52,52.28-54.01,52.28h-44.79Zm20.86-18.72h23.93c20.46,0,32.62-12.03,32.62-33.69s-12.17-33.16-32.62-33.16h-23.93v66.85Z"}),(0,r.createElement)("path",{d:"m214.69,104.28c13.64-13.42,22.46-33.18,22.46-53.25,0-18.91-8.82-37.82-22.46-51.03h14.44c13.5,12.89,21.53,31.8,21.53,51.03,0,20.6-8.02,40.36-21.53,53.25h-14.44Z"}),(0,r.createElement)("path",{d:"m243.49,104.28c13.64-13.42,22.46-33.18,22.46-53.25,0-18.91-8.82-37.82-22.46-51.03h14.44c13.5,12.89,21.52,31.8,21.52,51.03,0,20.6-8.02,40.36-21.52,53.25h-14.44Z"}),(0,r.createElement)("path",{d:"m272.28,104.28c13.64-13.42,22.46-33.18,22.46-53.25,0-18.91-8.82-37.82-22.46-51.03h14.44c13.5,12.89,21.53,31.8,21.53,51.03,0,20.6-8.02,40.36-21.53,53.25h-14.44Z"})))},edit:function({attributes:e,setAttributes:t,clientId:a}){const l=(0,d.useSelect)((e=>e("core/block-editor").getBlock(a))).innerBlocks.find((e=>"video-accessibility/controls"===e.name));(0,u.useEffect)((()=>{t({currentMedia:0,currentPanel:-1})}),[]);const n=[{title:"Default Panel",icon:p,onClick:()=>t({currentPanel:-1}),isActive:-1===e.currentPanel}];l&&l.innerBlocks&&l.innerBlocks.filter((e=>"panel"===e.attributes.control)).forEach(((a,r)=>{n.push({title:a.attributes.text||`Panel ${r}`,icon:p,onClick:()=>t({currentPanel:r}),isActive:r===e.currentPanel})}));const m=[{title:"Primary",icon:y,onClick:()=>t({currentMedia:0}),isActive:0===e.currentMedia},{title:"Secondary",icon:y,onClick:()=>t({currentMedia:1}),isActive:1===e.currentMedia}];return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.BlockControls,null,(0,r.createElement)(o.Toolbar,{label:"Options"},(0,r.createElement)(o.ToolbarGroup,null,(0,r.createElement)(o.ToolbarDropdownMenu,{label:"Select media to edit",icon:y,controls:m})),(0,r.createElement)(o.ToolbarGroup,null,(0,r.createElement)(o.ToolbarDropdownMenu,{label:"Select a panel to edit",icon:p,controls:n})))),(0,r.createElement)(c.InspectorControls,null,(0,r.createElement)(o.PanelBody,null,(0,r.createElement)(o.BaseControl,{label:"Layout"},(0,r.createElement)(o.Flex,null,(0,r.createElement)(o.ButtonGroup,null,(0,r.createElement)(o.Button,{onClick:()=>t({layout:"1c"}),isPressed:"1c"===e.layout},(0,s.__)("One column","video-accessibility")),(0,r.createElement)(o.Button,{onClick:()=>t({layout:"2c"}),isPressed:"2c"===e.layout},(0,s.__)("Two columns","video-accessibility"))))),(0,r.createElement)(o.ToggleControl,{label:"Display initial default panel",checked:e.displayDefault,onChange:e=>t({displayDefault:e})}),(0,r.createElement)(o.ToggleControl,{label:"Add screen reader message",help:"Include screen reader text that is hidden on the page. This hidden text will be positioned before the video player controls and can indicate if audio descriptions are available before a user hits play. Only fill out the Primary Video Screen Reader Text to add a single message. Fill out both Primary and Secondary text to have the text swap when the switch button is clicked.",checked:e.displayScreenReaderText,onChange:e=>t({displayScreenReaderText:e})}),e.displayScreenReaderText&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(o.TextareaControl,{label:"Primary Video Screen Reader Text",value:e.primaryScreenReaderText,onChange:e=>t({primaryScreenReaderText:e})}),(0,r.createElement)(o.TextareaControl,{label:"Secondary Video Screen Reader Text",value:e.secondaryScreenReaderText,onChange:e=>t({secondaryScreenReaderText:e})})))),(0,r.createElement)("div",{...(0,c.useBlockProps)({className:i({"video-accessibility":!0,[`video-accessibility--${e.layout}`]:e.layout,"video-accessibility--no-default":!e.displayDefault})})},e.displayScreenReaderText&&e.primaryScreenReaderText&&(0,r.createElement)("p",{className:"video-accessibility__srt visually-hidden"},e.primaryScreenReaderText&&(0,r.createElement)("span",{className:"video-accessibility__srt--primary"},e.primaryScreenReaderText),e.secondaryScreenReaderText&&(0,r.createElement)("span",{className:"video-accessibility__srt--secondary",hidden:!0},e.secondaryScreenReaderText)),(0,r.createElement)(c.InnerBlocks,{template:[["video-accessibility/media"],["video-accessibility/controls"],["video-accessibility/aside"]],templateLock:"all"})))},save:({attributes:e})=>(0,r.createElement)("div",{...c.useBlockProps.save({className:i({"video-accessibility":!0,[`video-accessibility--${e.layout}`]:e.layout,"video-accessibility--no-default":!e.displayDefault})})},e.displayScreenReaderText&&e.primaryScreenReaderText&&(0,r.createElement)("p",{className:"video-accessibility__srt visually-hidden"},e.primaryScreenReaderText&&(0,r.createElement)("span",{className:"video-accessibility__srt--primary"},e.primaryScreenReaderText),e.secondaryScreenReaderText&&(0,r.createElement)("span",{className:"video-accessibility__srt--secondary",hidden:!0},e.secondaryScreenReaderText)),(0,r.createElement)(c.InnerBlocks.Content,null)),deprecated:f})}},a={};function r(e){var l=a[e];if(void 0!==l)return l.exports;var i=a[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,a,l,i)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,l,i]=e[d],c=!0,o=0;o<a.length;o++)(!1&i||n>=i)&&Object.keys(r.O).every((e=>r.O[e](a[o])))?a.splice(o--,1):(c=!1,i<n&&(n=i));if(c){e.splice(d--,1);var s=l();void 0!==s&&(t=s)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,l,i]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={859:0,953:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var l,i,[n,c,o]=a,s=0;if(n.some((t=>0!==e[t]))){for(l in c)r.o(c,l)&&(r.m[l]=c[l]);if(o)var d=o(r)}for(t&&t(a);s<n.length;s++)i=n[s],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},a=globalThis.webpackChunkvideo_accessibility=globalThis.webpackChunkvideo_accessibility||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=r.O(void 0,[953],(()=>r(420)));l=r.O(l)})();